.\" **
.\" **
.\" ** (c) Copyright 1994 Hewlett-Packard Company
.\" ** (c) Copyright 1994 International Business Machines Corp.
.\" ** (c) Copyright 1994 Sun Microsystems, Inc.
.\" ** (c) Copyright 1994 Unix Systems Labs, Inc., a subsidiary of Novell, Inc.
.\" **
.\" **
.\" **
.TH dthelpgen 1 "11 Jan 1994"
.BH "11 Jan 1994"
.\"----------------------------------------------------------------------------
.SH NAME
dthelpgen \- Cde Help Manager browser volume creation tool.
.\"----------------------------------------------------------------------------
.\"---
.\"--- SYNOPSIS 
.\"--- This section is a syntax diagram.  
.\"---
.SH SYNOPSIS
.B dthelpgen  
.RI [ \|options\| ]
.LP
.nf
.\"----------------------------------------------------------------------------
.\"---
.\"--- DESCRIPTION 
.\"--- This section tells concisely what the command does 
.\"---
.SH DESCRIPTION
The dthelpgen utility searches for all of the CDE help families that are
properly installed and registered.  By default the scope of this search
includes only the local system, though it can be extended to remote
systems using the environment variables described below.  When dthelpgen
completes its search it creates a help volume named \fBbrowser\fP which
contains hypertext links to all of the help families and volumes that it
found.  By viewing the "browser" help volume and traversing its
hypertext links, the user can navigate through all of the available
help information.
.P
To view the \fBbrowser\fP volume, select the Help Viewer control from 
the desktop's Front Panel. The top level of the browser volume lists product 
families (See DETAILED DESCRIPTION). The second level, under each family,
lists the volumes that are members of the product family. 
.P 
Users or system administrators of Cde typically do not need
to interact directly with dthelpgen. A browser volume gets generated, if one 
does not already exist, or is out of date, automatically when the user selects 
the Help Viewer control.  Browser volumes are also re-generated when the 
user executes the ReloadApps Action, or runs dthelpgen from a terminal 
window directly. The resulting browser volume is placed in the user's 
$HOME/.dt/help directory unless specified otherwise via the command line.
.sp 1
.SH OPTIONS

.TP
.BI \-generate
Specifies that dthelpgen is to unconditionally re-generate the browser volume
without first checking if new families or help volumes are present.
.TP
.BI \-dir " directory"
Specifies the directory to deposit the generated files.
The specification can use substitution values. The
.B Environment Variables
section describes the substitution values allowed and their affect.
If the environment variable \fBLANG\fP is not set or null,
it is forced to \fBC\fP.
The default directory is
.BR /usr/dt/help/%L/Browser.
.TP
.BI \-file " basename"
Specifies the basename for the files generated by dthelpgen. The default 
name is \fBbrowser\fP. Extensions are appended to \fIbasename\fP to create
the file names for the help volume.
.TP
.BI \-lang " language"
Specifies which language directories to search for help family files and 
help volumes. If this option is not set, the default $LANG value is used.  If
the -lang value is set, it takes precedence over the current environments $LANG
setting.
.TP
.BI \-register " [directory]"
Specifies that the generated \fBbrowser\fP volume should be automatically 
registered by dthelpgen.  This option will cause dthelpgen to create a symbolic
link from the generated browser volume, to either the default location, 
/etc/dt/app-config/help/$LANG/ or the value give with the -register option.
.RE
.sp 1
.SH DETAILED DESCRIPTION
Often, software is available as a set of related applications known as a 
product family. For example, a set of office productivity applications may
include a word processor, a spreadsheet application, and a drawing program. 
Because each application may have its own help volume, the multi-volume 
set forms a product family. 
.P
Assembling your help volumes into a product family is optional. It is required 
only if you want your help to be available for browsing within a help browser 
such as the Help Viewer in the Front Panel. 
.P
Even if you have only a single help volume, it must belong to a product family 
to be browsed via the Help Viewer. See dthffile(4) for more information on 
family file content and syntax.
.SH ENVIRONMENT VARIABLES
The Cde help system utilizes two environment variables for locating 
help volumes and family files within the desktop environment:
.TP 10
.SM \fBDTHELPSEARCHPATH\fP
\fISystem\fP search path environment variable for locating
help volumes on local and/or remote nfs mounted systems.
.TP 10
.SM \fBDTHELPUSERSEARCHPATH\fP
\fIUsers\fP search path environment variable for locating user
specific help volumes on local and/or remote nfs mounted systems.
.P
The environment variables  contain colon-separated lists of directory paths.
Each directory path can contain both environment variable names as well as
special field descriptors that are expanded at runtime via each help component
that uses these environment variables.
.P
Field descriptors consist of a
.B %
followed by a single character.
Field descriptors and their substitution values are:
.RS
.TP 8
.B %H
This value is replaced with the current volume or family name being searched 
for.
.PD 0
.TP
.B %L
Replaced with the current value of the $LANG environment variable.
.SM .
.TP
.B %%
Replaced with a single
.BR % .
.PD
.RE
.P
For example, given:
.IP
.B DTHELPSEARCHPATH="/etc/dt/appconfig/help/%L/%H.sdl"
.P
.IR dthelpgen
looks for files ending with
.B .hf
in the directory
.BR /etc/dt/appconfig/$LANG .
To find the volumes listed in each
.B .hf
file,
.IR dthelpgen
looks in
.B /etc/dt/help/appconfig/$LANG/%H.sdl
with
.B %H
replaced with the name of the volume listed in the family file.
.P
.IR dthelpgen
uses both
.B DTHELPUSERSEARCHPATH
and
.BR DTHELPSEARCHPATH.
The default value for DTHELPUSERSEARCH path is: NULL.
.sp1
If the DTHELPUSERSEARCH is set, its searched for the requested volume. If
the volume is not found, the DTHELPSEARCHPATH value is searched.
.P
The default value for DTHELPSEARCHPATH path is:
.ta li
\fB
.br
$HOME/.dt/help/%H:
.br
$HOME/.dt/help/%H.hv:
.br
/etc/dt/appconfig/help/%L/%H:
.br
/etc/dt/appconfig/help/%/%H.sdl:
.br
/etc/dt/appconfig/help/%/%H.hv:
.br
/usr/dt/appconfig/help/%/%H:
.br
/usr/dt/appconfig/help/%/%H.sdl:
.br
/usr/dt/appconfig/help/%/%H.hv
.fi
\fP
.sp 1
.SH FILES
.PD 0
.TP 20
.B <file>.hf
runtime help family file
.TP
.B <file>.sdl
runtime help volume file
.TP
.B browser.hv
runtime browser help volume generated by dthelpgen
.sp 1
.SH "SEE ALSO"
.BR dthelpview (1),
.BR dtsearchpath (1),
.BR dtsdlfile (4),
.BR dthffile (4),
.BR "Cde Help System Author's and Programmer's Guide"
.sp 1
.SH WARNINGS MESSAGES
.TP
.B "Zero Volume files found"
Indicates that none of the volumes specified in the family files are
registered in the system.
.TP
.B "Zero Family files found"
Indicates that no family files are registered in the system.
.sp 1
.SH ERROR MESSAGES
.TP
.B "Element of path is not a directory."
Indicates that some part of path is not a directory.
.TP
.B "Access denied for directory path. Try running as super user?"
Indicates that some part of path does not allow the caller read, 
access or write permission.
.TP
.B "Element of path does not exist."
Indicates that some element of path does not exist or is misspelled.
.TP
.B "File system containing path is full."
Indicates that the disc containing the path does not contain any space 
or inodes.
.TP
.B "Unable to access path - error status number value."
Indicates that there is an access problem of type \fIvalue\fP occurred 
with path.
.TP
.B "File system containing path is read only."
Indicates that the disc containing path is mounted read-only.
.TP
.B "Requires root permission to write to path."
Indicates that some part of path does not allow the user write
permission.
.TP
.B "Write to volume invalid."
Indicates that volume does not have the correct write permissions 
for the caller.
.TP
.B "Search Path empty."
Indicates that the environment variables \fBDTHELPUSERSEARCHPATH\fP and/or
\fBDTHELPSEARCHPATH\fP were declared but no paths were specified in the 
variables.
.TP
.B "`title' resource missing."
Indicates that the title resource in a family file missing.
.TP
.B "`abstract' resource missing"
Indicates that the abstract resource in a family file is missing.
.TP
.B "`volumes' resource missing."
Indicates that the volumes resource in a family file is missing.
.TP
.B "`character' set resource missing."
Indicates that the CharSet resource in a family file is missing.
.TP
.B "Unable to access current working directory - error status number value."
Indicates that the -dir option was specified with a relative path and that
dthelpgen is unable to get the current working directory.






