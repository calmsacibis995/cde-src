.TH dthelpgen 1 "11 Jan 1994"
.\" CDE Common Source Format, Version 1.0.0
.\" *************************************************************************
.\" **  (c) Copyright 1993, 1994 Hewlett-Packard Company
.\" **  (c) Copyright 1993, 1994 International Business Machines Corp.
.\" **  (c) Copyright 1993, 1994 Sun Microsystems, Inc.
.\" **  (c) Copyright 1993, 1994 Novell, Inc.
.\" *************************************************************************
.SH NAME
dthelpgen \- generates a top-level help browser volume
.SH SYNOPSIS
.yS
dthelpgen  
\-dir \f2directory\f1 [\|\f2options\f1\|] 
.yE
.SH DESCRIPTION
The
.Cm dthelpgen
utility searches for all CDE help family files 
installed and registered, and generates a help 
volume named browser,
which contains hypertext links to all help 
families and volumes found.
By default, the scope of this search
includes only the local system; however, it can be extended to remote
systems using the environment variables described below.
.P
The
.B dthelpgen
utility only updates the
browser 
help volume if new family files or volumes are detected within
the search path directories.
In the case where no new family files are present, 
.B dthelpgen
exits.
If new files are present, 
.B dthelpgen
posts an information dialog telling the user that it's updating the 
browser
volume.  
.P
By viewing the
browser
help volume and traversing its
hypertext links, the user can navigate through all of the registered
online help information.
.P
To view the
browser
volume, select the Help Viewer control from 
the desktop's Front Panel.
The top level of the
browser
volume lists product 
families.
The second level, under each family,
lists the volumes that are members of the product family. 
.P 
CDE users or system administrators typically do not need
to interact directly with the 
.Cm dthelpgen 
utility.
A
browser
volume is generated (when one does not already exist, or is 
out of date) when the user selects the Help Viewer control 
from the CDE front panel.
A
browser
volume is also generated when the user executes the 
.B ReloadApps
Action, or runs 
.Cm dthelpgen
directly from a terminal window.
In the first two cases, the resulting
browser
volume is placed in the user's 
.B $HOME/.dt/help/$DTUSERSESSION 
directory.
When running
.B dthelpgen
from a terminal window, the \-dir option must be used to specify
the location to create the resulting
browser
file.
.SH OPTIONS
The following options are available:
.VL 15
.LI \f3\-generate\f1
Specifies that
.Cm dthelpgen
unconditionally regenerate the
browser
volume
without first checking if new families or help volumes are present.
.LI "\f3\-dir\f1 \f2directory\f1"
Specifies the directory to deposit the generated files.
The specification can use substitution values.
The \f3ENVIRONMENT VARIABLES\f1
heading describes the substitution values allowed and their effect.
If the environment variable
.I LANG
is not set or is
.Cn NULL ,
it is forced to
.BR C .
.LI "\f3\-file\f1 \f2basename\f1"
Specifies the base name for the files generated by
.Cm dthelpgen .
The default 
name is
browser.
Extensions are appended to
.I basename
to create
the file names for the
help
volume.
.LI "\f3\-lang\f1 \f2language\f1"
Specifies which language directories to search for
help
Family files and 
help volumes.
If this option is not set, the default
.I LANG
value is used.
If the
.B \-lang
value is set, it takes precedence over the current environment's
.I LANG
setting.
.SH "ENVIRONMENT VARIABLES"
The CDE help system uses two environment variables for locating 
help
volumes and Family files within the desktop environment:
.VL 15
.LI \f2DTHELPSEARCHPATH\f1
.I System
search path environment variable for locating
help
volumes on local and/or remote nfs mounted systems.
.LI \f2DTHELPUSERSEARCHPATH\f1
Users
search path environment variable for locating user
specific
help
volumes on local and/or remote nfs mounted systems.
.LE
.P
The environment variables contain colon-separated lists of directory paths.
Each directory path can contain both environment variable names as well as
special field descriptors that are expanded at runtime.
.P
Field descriptors consist of a percentage (\f3%\f1) symbol
followed by a single character.
Field descriptors and their substitution values are:
.VL 15
.LI \f3%H\f1
This value is replaced with the current volume or family name being searched 
for.
.LI \f3%L\f1
Replaced with the current value of the
.I LANG
environment variable.
.LI \f3%%\f1
Replaced with a single \f3%\f1.
.LE
.P
For example, given:
.br
.B DTHELPSEARCHPATH\f1\f3="/etc/dt/appconfig/help/%L/%H.sdl"
.P
The
.Cm dthelpgen
utility looks for files ending with \f3.hf\f1
in the directory
.BR /etc/dt/appconfig/$LANG .
To find the volumes listed in each \f3.hf\f1
file,
.Cm dthelpgen
looks in
.B /etc/dt/help/appconfig/$LANG/%H.sdl
with \f3%H\f1
replaced with the name of the volume listed in the Family file.
.P
The
.Cm dthelpgen
utility uses both
.I DTHELPUSERSEARCHPATH
and
.IR DTHELPSEARCHPATH .
The default value for
.I DTHELPUSERSEARCHPATH
is:
.P
\f3
.br
$HOME/.dt/help/$DTUSERSESSION/%H:
.br
$HOME/.dt/help/$DTUSERSESSION/%H.sdl:
.br 
$HOME/.dt/help/$DTUSERSESSION/%H.hv:
.br
$HOME/.dt/help/%H:
.br
$HOME/.dt/help/%H.sdl:
.br 
$HOME/.dt/help/%H.hv\f1
.P
The
.I DTHELPUSERSEARCH
is first searched for the requested volume.
If the volume is not found, the
.I DTHELPSEARCHPATH
value is searched.
.P
The default value for
.I DTHELPSEARCHPATH
path is:
.br
\f3
.br
/etc/dt/appconfig/help/%L/%H:
.br
/etc/dt/appconfig/help/%L/%H.sdl:
.br
/etc/dt/appconfig/help/%L/%H.hv:
.br
/etc/dt/appconfig/help/C/%H:
.br
/etc/dt/appconfig/help/C/%H.sdl:
.br
/etc/dt/appconfig/help/C/%H.hv:
.br
/usr/dt/appconfig/help/%L/%H:
.br
/usr/dt/appconfig/help/%L/%H.sdl:
.br
/usr/dt/appconfig/help/%L/%H.hv:
.br
/usr/dt/appconfig/help/C/%H:
.br
/usr/dt/appconfig/help/C/%H.sdl:
.br
/usr/dt/appconfig/help/C/%H.hv
.P
\f1
.SH INPUT FILES
The following are input files used by
.Cm dthelpgen .
.VL 15
.LI \f3<file>.hf\f1
runtime Help Family file, accessed directly by
.Cm dthelpgen .
.LI \f3<file>.sdl\f1
runtime Help volume file(s), accessed indirectly through explicit
references within the Help Family file.
.LE
.SH OUTPUT FILES
The following are descriptions of the output files generated by
.Cn dthelpgen .
.br
.VL 15
.LI \f3browser.hv\f1
The master runtime browser Help volume file generated by
.Cm dthelpgen .
.LI "\f3browser00.ht & browser01.ht\f1"
Runtime browser Help topic files generated by
.Cm dthelpgen .
.LE
.HU "Warning Messages"
.VL 15
.LI "\f3Zero Volume files found\f1"
Indicates that none of the volumes specified in the Family files are
registered in the system.
.LI "\f3Zero Family files found\f1"
Indicates that no Family files are registered in the system.
.LE
.HU "Error Messages"
.VL 15
.LI "\f3Element of path is not a directory\f1"
Indicates that some part of the path is not a directory.
.LI "\f3Access denied for directory path.
Try running as super user?\f1"
Indicates that some part of path does not allow the caller read, 
access or write permission.
.LI "\f3Element of path does not exist\f1"
Indicates that some element of path does not exist or is misspelled.
.LI "\f3File system containing path is full\f1"
Indicates that the disc containing the path does not contain any space 
or inodes.
.LI "\f3Unable to access path - error status number value\f1"
Indicates that there is an access problem of type
.I value
occurred with path.
.LI "\f3File system containing path is read only\f1"
Indicates that the disc containing the path is mounted read-only.
.LI "\f3Requires root permission to write to path\f1"
Indicates that some part of the path does not allow the user write
permission.
.LI "\f3Write to volume invalid\f1"
Indicates that volume does not have the correct write permissions 
for the caller.
.LI "\f3Search Path empty\f1"
Indicates that the environment variables.
.I DTHELPUSERSEARCHPATH
and/or
.I DTHELPSEARCHPATH
were declared but no paths were specified in the variables.
.LI "\f3`title' resource missing\f1"
Indicates that the title resource in a Family file is missing.
.LI "\f3`abstract' resource missing\f1"
Indicates that the abstract resource in a Family file is missing.
.LI "\f3`volumes' resource missing\f1"
Indicates that the volumes resource in a Family file is missing.
.LI "\f3`character' set resource missing\f1"
Indicates that the CharSet resource in a Family file is missing.
.LI "\f3Unable to access current working directory - error status number value\f1"
Indicates that the \-dir option was specified with a relative path and that
.Cm dthelpgen
is unable to get the current working directory.
.LI "\f3Unable to allocate memory\f1"
System resources are used up, no available memory,
.Cm dthelpgen
aborts execution.
.LI "\f3Destination directory missing\f1"
Missing
.I directory
value for
.B \-dir
option.
.LI "\f3Invalid system language specified\f1"
Non-supported value used with the
.B \-lang
option.
.LE
.SH EXAMPLES
.VL 15
.LI "\f3dthelpgen \-dir $HOME/.dt/help\f1"
Creates, if required, a new
browser
help volume in the users home directory under \f3.dt/help/\f1.
.LI "\f3dthelpview \-dir  $HOME/.dt/help -generate\f1"
Forces the creation of a new 
browser
help volume and places it in the users home directory under \f3.dt/help/\f1.
.LE
.SH "SEE ALSO"
.Fn dthelpview 1,
.Fn dtsearchpath 1,
.BR dthffile (4),
\f2CDE Help System Author's and Programmer's Guide\f1.
